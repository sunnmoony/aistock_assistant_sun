# 常见问题 (FAQ)

## 安装问题

### Q1: 安装时提示"Python未找到"？

**原因**：系统未安装Python或未添加到环境变量

**解决方案**：
1. 下载安装Python：https://www.python.org/downloads/
2. 安装时勾选 "Add Python to PATH"
3. 重启命令行窗口

### Q2: 安装依赖失败？

**可能原因**：
- 网络问题
- pip版本过旧

**解决方案**：
```bash
# 更新pip
python -m pip install --upgrade pip

# 使用国内镜像
pip install -r requirements_minimal.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

### Q3: 提示"ModuleNotFoundError"？

**原因**：依赖未正确安装

**解决方案**：
```bash
# 重新安装依赖
pip install -r requirements_minimal.txt --force-reinstall
```

---

## 启动问题

### Q4: 程序启动后闪退？

**可能原因**：
- 依赖缺失
- 配置文件错误

**解决方案**：
1. 检查logs目录下的日志文件
2. 删除config.yaml重新启动
3. 使用 `run_lite.bat` 轻量模式启动

### Q5: 启动时提示"端口被占用"？

**原因**：程序已在运行

**解决方案**：
1. 检查任务管理器，结束已有进程
2. 重启程序

### Q6: 界面显示异常？

**可能原因**：
- 显卡驱动问题
- DPI缩放问题

**解决方案**：
1. 更新显卡驱动
2. 右键程序 → 属性 → 兼容性 → 更改高DPI设置

---

## 数据问题

### Q7: 无法获取股票数据？

**可能原因**：
- 网络连接问题
- 数据源服务器问题

**解决方案**：
1. 检查网络连接
2. 运行数据源配置向导：
   ```bash
   python data_source_wizard.py
   ```
3. 程序会自动切换备用数据源

### Q8: 数据刷新很慢？

**原因**：
- 网络延迟
- 数据源响应慢

**解决方案**：
1. 使用Pytdx作为主要数据源
2. 增加刷新间隔
3. 使用轻量模式

### Q9: 股票代码搜索不到？

**可能原因**：
- 代码输入错误
- 股票已退市

**解决方案**：
1. 确认股票代码正确
2. 尝试使用股票名称搜索
3. 检查股票是否正常交易

---

## AI功能问题

### Q10: AI功能不可用？

**原因**：未配置API密钥

**解决方案**：
1. 打开 `config.yaml`
2. 填写API密钥：
   ```yaml
   ai:
     api_key: "your_api_key"
   ```

### Q11: AI分析返回错误？

**可能原因**：
- API密钥无效
- 网络问题
- API服务异常

**解决方案**：
1. 检查API密钥是否正确
2. 检查网络连接
3. 稍后重试

### Q12: 如何获取API密钥？

**步骤**：
1. 访问 https://siliconflow.cn/
2. 注册账号
3. 进入控制台获取API密钥
4. 免费额度足够日常使用

---

## 性能问题

### Q13: 程序运行卡顿？

**解决方案**：
1. 使用轻量模式启动：`run_lite.bat`
2. 减少自选股数量
3. 关闭其他占用内存的程序
4. 增加系统内存

### Q14: 内存占用过高？

**解决方案**：
1. 使用轻量模式
2. 定期重启程序
3. 减少缓存时间

### Q15: 低配置电脑如何优化？

**推荐设置**：
1. 使用 `run_lite.bat` 启动
2. 减少自选股到10只以内
3. 关闭自动刷新
4. 增加刷新间隔到60秒以上

---

## 其他问题

### Q16: 如何备份数据？

**备份内容**：
- `data/watchlist.json` - 自选股列表
- `config.yaml` - 配置文件

### Q17: 如何重置程序？

**步骤**：
1. 删除 `data` 目录
2. 删除 `config.yaml`
3. 重新启动程序

### Q18: 如何更新程序？

**步骤**：
1. 备份 `data` 目录和 `config.yaml`
2. 下载新版本
3. 替换文件
4. 恢复备份

---

## 联系支持

如果以上方案无法解决问题，请：

1. 查看 `logs/` 目录下的日志文件
2. 提交Issue到项目仓库
3. 附上错误信息和日志内容

---

**最后更新：2024年**
